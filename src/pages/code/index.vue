<script setup lang="ts">
definePage({ // https://uni-helper.js.org/vite-plugin-uni-pages/definepage
  style: {
    navigationBarTitleText: 'ç¤ºä¾‹',
  },
  layout: 'default',
})

export interface listItem {
  icon?: string
  name?: string
  text?: string
  color?: string
  describe?: string
}

interface listItemWithUrl extends listItem {
  url: string | (() => void)
}

const router = useRouter()
const { open } = useWebView()

function goPage({ icon, name, text, color, describe, url }: listItemWithUrl) {
  if (typeof url === 'function') {
    url()
  }
  else {
    url && router.push({
      path: url,
      query: {
        icon: icon || '',
        name: name || '',
        text: text || '',
        color: color || '',
        describe: describe || '',
      },
    })
  }
}

const list: listItemWithUrl[] = [
  {
    icon: 'i-fluent-window-column-one-fourth-left-focus-left-20-filled',
    name: 'Layout',
    text: 'è‡ªå®šä¹‰å¸ƒå±€',
    describe: 'ä¸º Vite ä¸‹çš„ uni-app æä¾›ç±» nuxt çš„ layouts ç³»ç»Ÿ',
    color: '#845ec2',
    url: '/pages/example/layout',
  },
  {
    icon: 'i-fluent-channel-share-20-filled',
    name: 'Alova',
    text: 'è¯·æ±‚å·¥å…·é›†',
    describe: 'alovaå®Œç¾å…¼å®¹ä½ æœ€å–œæ¬¢çš„HTTP clientå’ŒUIæ¡†æ¶ï¼Œå¿«é€Ÿå¼€å‘å®¢æˆ·ç«¯å’ŒæœåŠ¡çš„åº”ç”¨çš„ä¸šåŠ¡é€»è¾‘ï¼ŒåŒæ—¶è®©APIä¿¡æ¯ä¸ä»£ç è¿›è¡Œäº¤äº’ï¼Œåƒè™«æ´ä¸€æ ·æ‹‰è¿‘åç«¯åä½œè·ç¦»ï¼Œæè‡´é«˜æ•ˆåœ°é›†æˆä½ çš„APIs',
    color: '#d65db1',
    url: '/pages/example/alova',
  },
  {
    icon: 'i-fluent-hard-drive-20-filled',
    name: 'Pinia',
    text: 'çŠ¶æ€ç®¡ç†',
    describe: 'ç±»å‹å®‰å…¨ã€å¯æ‰©å±•æ€§ä»¥åŠæ¨¡å—åŒ–è®¾è®¡ã€‚ç”šè‡³è®©ä½ å¿˜è®°æ­£åœ¨ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªçŠ¶æ€åº“ã€‚',
    color: '#ff6f91',
    url: '/pages/example/pinia',
  },
  // {
  //   icon: 'i-tabler-fish-hook',
  //   name: 'Hook',
  //   text: 'ç»„åˆå¼å‡½æ•°',
  //   describe: 'åœ¨ Vue åº”ç”¨çš„æ¦‚å¿µä¸­ï¼Œâ€œç»„åˆå¼å‡½æ•°â€(Composables) æ˜¯ä¸€ä¸ªåˆ©ç”¨ Vue çš„ç»„åˆå¼ API æ¥å°è£…å’Œå¤ç”¨æœ‰çŠ¶æ€é€»è¾‘çš„å‡½æ•°ã€‚',
  //   color: '#ff9671',
  //   url: '/pages/example/hook',
  // },
  {
    icon: 'i-ix-piechart',
    name: 'Uni ECharts',
    text: 'å›¾è¡¨',
    describe: 'é€‚ç”¨äºuni-appçš„EChartsç»„ä»¶ä¸Vue EChartsè¿‘ä¹ä¸€è‡´çš„ä½¿ç”¨ä½“éªŒ!',
    color: '#ff9671',
    url: '/pages/example/echart',
  },
  {
    icon: 'i-ri-route-line',
    name: 'Router',
    text: 'è·¯ç”±',
    describe: 'uni-mini-routeræ˜¯ä¸€ä¸ªåŸºäºvue3å’Œuni-appæ¡†æ¶çš„è½»é‡çº§è·¯ç”±åº“ï¼Œå®ƒæä¾›äº†ç±»ä¼¼Vue Routerçš„APIå’ŒåŠŸèƒ½ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…ä½¿ç”¨ç±»ä¼¼Vue Routerçš„æ–¹å¼åœ¨uni-appä¸­è¿›è¡Œè·¯ç”±è·³è½¬ã€ä¼ å‚ã€æ‹¦æˆªç­‰å¸¸ç”¨æ“ä½œã€‚',
    color: '#ffc75f',
    url: '/pages/example/router',
  },
  {
    icon: 'i-humbleicons-switch-on',
    name: 'Wot UI',
    text: 'ç»„ä»¶åº“',
    describe: '',
    color: '#f9f871',
    url: () => open(__UNI_PLATFORM__.isMP ? 'https://wot-ui.cn/demo/?timestamp=1756969531072#/' : 'https://wot-ui.cn/'),
  },
  {
    icon: 'i-stash-pagination-duotone',
    name: 'Z-PAGING',
    text: 'åˆ†é¡µç»„ä»¶',
    describe: 'é«˜æ€§èƒ½ï¼Œå…¨å¹³å°å…¼å®¹(iosã€å®‰å“ã€é¸¿è’™nextã€h5ä»¥åŠå„å®¶å°ç¨‹åº)ã€‚æ”¯æŒvueã€nvueã€vue2ã€vue3ï¼Œä½¿ç”¨wxs+renderjså®ç°ã€‚æ”¯æŒè™šæ‹Ÿåˆ—è¡¨ï¼Œæ”¯æŒè‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°ã€ä¸Šæ‹‰åŠ è½½æ›´å¤šï¼Œæ”¯æŒè‡ªåŠ¨ç®¡ç†ç©ºæ•°æ®å›¾ã€ç‚¹å‡»è¿”å›é¡¶éƒ¨ï¼Œæ”¯æŒèŠå¤©åˆ†é¡µã€æœ¬åœ°åˆ†é¡µï¼Œæ”¯æŒå›½é™…åŒ–ç­‰æ•°ç™¾é¡¹é…ç½®ï¼Œæµç•…æ¸²æŸ“ç™¾ä¸‡çº§åˆ—è¡¨æ•°æ®ã€‚',
    color: '#fdcb6e',
    url: '/pages/example/z-paging',
  },
  {
    icon: 'i-eos-icons-atom-electron',
    name: 'UnoCSS',
    text: 'åŸå­åŒ–CSS',
    describe: 'å¯å®šåˆ¶ Â· å¼ºå¤§ Â· å¿«é€Ÿ Â· å¿«ä¹',
    color: '#e17055',
    url: '/pages-sub/demo/unocss',
  },
  {
    icon: 'i-ic-outline-color-lens',
    name: 'Icon',
    text: 'WotUI å›¾æ ‡ å’Œ Iconify å›¾æ ‡é›†',
    describe: 'æ‰€æœ‰æµè¡Œçš„å›¾æ ‡é›†ï¼Œä¸€ä¸ªæ¡†æ¶ã€‚è¶…è¿‡ 200,000 ä¸ªå¼€æºçŸ¢é‡å›¾æ ‡ã€‚',
    color: '#d63031',
    url: '/pages-sub/demo/icon',
  },
]

const linkList = [
  {
    title: 'ğŸ“š VUE å®˜ç½‘',
    url: 'https://cn.vuejs.org/',
  },
  {
    title: 'ğŸ“– uni-app å®˜ç½‘',
    url: 'https://uniapp.dcloud.net.cn/',
  },
]
</script>

<template>
  <view class="bg-[#e8e9eb]/50 uni-min-h-screen uni-mp:pt-20">
    <view class="flex flex-col gap-4 p-4">
      <DescribeCard />
      <view class="flex flex-col overflow-hidden rounded-lg bg-white">
        <view
          v-for="(item, index) in list" :key="item.name" class="flex items-center px-3" hover-class="bg-gray-200"
          :hover-stay-time="100" @click="goPage(item)"
        >
          <view :class="item.icon" class="size-9" :style="{ color: item.color }" />
          <view
            class="ml-2 w-full flex items-center justify-between py-4"
            :class="index !== list.length - 1 ? 'border-(b-1 gray-200 b-solid)' : ''"
          >
            <view>
              {{ item.name }}Â·{{ item.text }}
            </view>
            <view class="i-uil-angle-right-b size-6 text-gray" />
          </view>
        </view>
      </view>
      <LinkCellGroup :list="linkList" />
    </view>
  </view>
</template>
