<script setup lang="ts">
import type { listItem } from '@/pages/code/index.vue'
import { useExampleStore } from '@/stores/example'

const props = defineProps<listItem>()

definePage({
  style: {
    navigationBarTitleText: 'Pinia',
  },
  layout: 'example',
})

const uniLayout = ref()
usePageDescribe(uniLayout, props)

const linkList = [
  {
    title: 'ğŸ“š Pinia æ–‡æ¡£',
    value: 'çŠ¶æ€ç®¡ç†åº“',
    url: 'https://pinia.vuejs.org/zh/',
  },
  {
    title: 'ğŸ™ GitHub ä»“åº“',
    value: 'çŠ¶æ€ç®¡ç†åº“',
    url: 'https://github.com/vuejs/pinia',
  },
  {
    title: 'ğŸ”§ uni-app å­˜å‚¨',
    value: 'æœ¬åœ°å­˜å‚¨ API',
    url: 'https://uniapp.dcloud.net.cn/api/storage/storage.html',
  },
  {
    title: 'ğŸ’¡ Pinia æ’ä»¶',
    value: 'Persistedstate',
    url: 'https://prazdevs.github.io/pinia-plugin-persistedstate/zh/',
  },
]

const exampleStore = useExampleStore()
</script>

<template>
  <demo-block title="åŸºç¡€ä½¿ç”¨ - è®¡æ•°å™¨">
    <view class="mb-4 rounded-lg bg-white p-4">
      <view class="mb-4 text-center">
        <view class="mb-2 text-8 text-blue-500">
          {{ exampleStore.count }}
        </view>
        <view class="text-3 text-gray-600 dark:text-[var(--wot-dark-color2)]">
          åŒå€å€¼: {{ exampleStore.doubleCount }}
        </view>
      </view>

      <view class="grid grid-cols-3 mb-4 gap-2">
        <wd-button type="success" size="small" @click="exampleStore.increment">
          +1
        </wd-button>
        <wd-button type="warning" size="small" @click="exampleStore.decrement">
          -1
        </wd-button>
        <wd-button type="info" size="small" @click="exampleStore.$reset">
          é‡ç½®
        </wd-button>
      </view>
    </view>
  </demo-block>
  <LinkCellGroup :list="linkList" />
</template>
